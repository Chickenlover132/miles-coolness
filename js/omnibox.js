if(input=document.querySelector(".home-input"),input){let e=!1;const n=async function(){const e=await fetch("/~/uv/"+encodeURIComponent(`http://api.duckduckgo.com/ac?q=${encodeURIComponent(decodeURIComponent(input.value)||"")}&format=json`));return await e.json()};input.addEventListener("focus",(async function(n){e||setTimeout((function(){const n=document.querySelector(".home-results");n.innerHTML&&(input.classList.add("input-omnibox"),e=!0,n.style.display="block")}))})),input.addEventListener("blur",(async function(n){if(!input.omnibox)return e?(e=!1,void setTimeout((function(){const e=document.querySelector(".home-results");input.classList.remove("input-omnibox"),e.style.display="none"}))):void 0})),input.addEventListener("keydown",(async function(t){setTimeout((async function(){if(!t.target.value)return input.classList.remove("input-omnibox"),e=!1,document.querySelector(".home-results").style.display="none",setTimeout((e=>document.querySelector(".home-results").innerHTML=""),100);const o=t.target.value+"",i=await n(t.target.value);if(t.target.value!==o)return;const u=document.querySelector(".home-results");if(e=!0,input.classList.add("input-omnibox"),u.innerHTML="",i.forEach((function(n){const t=document.createElement("li"),o=document.createElement("span");o.innerText=n.phrase,t.appendChild(o),t.addEventListener("mousedown",(function(t){input.value=n.phrase,input.omnibox=!0,input.focus(),input.omnibox=!1,input.classList.remove("input-omnibox"),e=!1,u.style.display="none",document.querySelector(".home-results").innerHTML="",input.parentNode.requestSubmit()})),u.appendChild(t)})),0===i.length){const e=document.createElement("li"),n=document.createElement("span");n.innerText="No results found",e.appendChild(n),u.appendChild(e)}u.style.display="block"}))}))}