function genCache(e,t){return btoa(btoa(e+t))}function getObj(e,t,a,r){e=String(e),e=new URL(e);var s={"x-bare-headers":JSON.stringify(Object.fromEntries(splitHeaders(new Headers(t)))),"x-bare-host":e.host,"x-bare-protocol":e.protocol,"x-bare-port":("https:"==e.protocol?443:80).toString(),"x-bare-path":e.pathname+e.search};return new Request(__aero$config.bare+"v2/?cache="+genCache(e.href,r),{credentials:"omit",headers:s,method:r,body:a})}async function makeBareRequest(e,t){var a,{headers:r}=t;"GET"!==t.method&&"HEAD"!==t.method&&(a=await t.blob());var s=await fetch(getObj(e.href,getReqHeaders(Object.fromEntries(r),t,e),a,t.method));return await createResponse(s)}async function createResponse(e){var t=await e.blob();return-1!==[204,101,205,304].indexOf(parseInt(e.headers.get("x-bare-status")))&&(t=null),new Response(t,{headers:new Headers(JSON.parse(joinHeaders(e.headers).get("x-bare-headers"))||{}),status:e.headers.get("x-bare-status"),statusText:e.headers.get("x-bare-status-text")})}